Project Voedselbank {
  database_type: "MySQL"
}

Table roles {
  id int [pk, increment]
  name varchar(50) [unique, not null]
  guard_name varchar(50) [not null, default: "web"]
  created_at timestamp
  updated_at timestamp
}

Table users {
  id int [pk, increment]
  role_id int [not null]
  name varchar(255) [not null]
  email varchar(255) [not null, unique]
  email_verified_at timestamp
  password varchar(255) [not null]
  remember_token varchar(100)
  created_at timestamp
  updated_at timestamp
}

Table adressen {
  id int [pk, increment]
  straat varchar(255) [not null]
  huisnummer varchar(20) [not null]
  postcode char(6) [not null]
  plaats varchar(100) [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table product_categorieen {
  id int [pk, increment]
  naam varchar(100) [not null, unique]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table wensen {
  id int [pk, increment]
  omschrijving varchar(100) [not null, unique]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table allergenen {
  id int [pk, increment]
  naam varchar(100) [not null, unique]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table contactpersonen {
  id int [pk, increment]
  contact_naam varchar(255) [not null]
  email varchar(255) [not null]
  telefoon varchar(20) [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table leveranciers {
  id int [pk, increment]
  bedrijfsnaam varchar(255) [not null]
  adres_id int [not null]
  contactpersoon_id int [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table gezinnen {
  id int [pk, increment]
  gezins_naam varchar(255) [not null]
  volwassenen tinyint [not null]
  kinderen tinyint [not null]
  babys tinyint [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table klanten {
  id int [pk, increment]
  naam varchar(255) [not null]
  email varchar(255) [not null, unique]
  telefoon varchar(20) [not null]
  adres_id int [not null]
  gezin_id int [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table producten {
  id int [pk, increment]
  product_naam varchar(255) [not null, unique]
  ean char(13) [not null, unique]
  categorie_id int [not null]
  aantal_voorraad int [not null]
  magazijn_locatie varchar(50)
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table product_kenmerken {
  id int [pk, increment]
  product_id int [not null]
  wens_id int [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table product_allergenen {
  id int [pk, increment]
  product_id int [not null]
  allergie_id int [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table leveringen {
  id int [pk, increment]
  leverancier_id int [not null]
  leverdatum_tijd datetime [not null]
  eerstvolgende_levering datetime [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table levering_producten {
  id int [pk, increment]
  levering_id int [not null]
  product_id int [not null]
  aantal int [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table voedselpakketten {
  id int [pk, increment]
  klant_id int [not null]
  datum_samenstelling datetime [not null]
  datum_uitgifte datetime
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table voedselpakket_producten {
  id int [pk, increment]
  voedselpakket_id int [not null]
  product_id int [not null]
  aantal tinyint [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table klant_wensen {
  id int [pk, increment]
  klant_id int [not null]
  wens_id int [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

Table klant_allergenen {
  id int [pk, increment]
  klant_id int [not null]
  allergie_id int [not null]
  is_actief boolean [not null]
  opmerking varchar(255)
  datum_aangemaakt datetime
  datum_gewijzigd datetime
}

/* RELATIES */
Ref: users.role_id > roles.id

Ref: leveranciers.adres_id > adressen.id
Ref: leveranciers.contactpersoon_id > contactpersonen.id

Ref: klanten.adres_id > adressen.id
Ref: klanten.gezin_id > gezinnen.id

Ref: producten.categorie_id > product_categorieen.id

Ref: product_kenmerken.product_id > producten.id
Ref: product_kenmerken.wens_id > wensen.id

Ref: product_allergenen.product_id > producten.id
Ref: product_allergenen.allergie_id > allergenen.id

Ref: leveringen.leverancier_id > leveranciers.id

Ref: levering_producten.levering_id > leveringen.id
Ref: levering_producten.product_id > producten.id

Ref: voedselpakketten.klant_id > klanten.id

Ref: voedselpakket_producten.voedselpakket_id > voedselpakketten.id
Ref: voedselpakket_producten.product_id > producten.id

Ref: klant_wensen.klant_id > klanten.id
Ref: klant_wensen.wens_id > wensen.id

Ref: klant_allergenen.klant_id > klanten.id
Ref: klant_allergenen.allergie_id > allergenen.id
